/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package InterfazGrafica;

import java.awt.Color;
import javax.swing.JOptionPane;
import Data.Usuario;
import Data.ConexionSQL;

import InterfazGrafica.PantallaPrincipal;

/**
 *
 * @author krist
 */
public class Login extends javax.swing.JFrame {

    public boolean verificacion_usuario = false;
    public boolean verificacion_contrasena = false;
    public static String usuarioLogin;
    public static String contraseñaLogin;
    int xMouse,yMouse;

    
    public Login() {
        initComponents();
        setLocationRelativeTo(null);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        PanelLogin = new javax.swing.JPanel();
        Label_IniciarSesion = new javax.swing.JLabel();
        Label_Usuario = new javax.swing.JLabel();
        CajaTextoUsuario = new javax.swing.JTextField();
        separador_Usuario = new javax.swing.JSeparator();
        Label_contraseña = new javax.swing.JLabel();
        CajaTextoContraseña = new javax.swing.JPasswordField();
        separador_Contrasena = new javax.swing.JSeparator();
        panel_Ingresar = new javax.swing.JPanel();
        Label_Ingresar = new javax.swing.JLabel();
        panel_Error_Ingreso = new javax.swing.JPanel();
        label_Error_Ingreso = new javax.swing.JLabel();
        panel_Barra_Superior = new javax.swing.JPanel();
        panel_Cerrar_Ventana = new javax.swing.JPanel();
        label_Cerrar_Ventana = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setMinimumSize(new java.awt.Dimension(600, 500));
        setName("FrameLogin"); // NOI18N
        setUndecorated(true);
        setResizable(false);

        PanelLogin.setBackground(new java.awt.Color(221, 221, 221));
        PanelLogin.setForeground(new java.awt.Color(255, 255, 255));
        PanelLogin.setAlignmentX(0.0F);
        PanelLogin.setAlignmentY(0.0F);
        PanelLogin.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        PanelLogin.setMaximumSize(new java.awt.Dimension(2147483647, 2147483647));
        PanelLogin.setMinimumSize(new java.awt.Dimension(600, 500));
        PanelLogin.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                PanelLoginMouseClicked(evt);
            }
        });
        PanelLogin.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        Label_IniciarSesion.setFont(new java.awt.Font("Arial Black", 0, 18)); // NOI18N
        Label_IniciarSesion.setText("INICIAR SESIÓN");
        PanelLogin.add(Label_IniciarSesion, new org.netbeans.lib.awtextra.AbsoluteConstraints(45, 50, 200, 50));

        Label_Usuario.setFont(new java.awt.Font("Arial Black", 0, 12)); // NOI18N
        Label_Usuario.setText("USUARIO");
        PanelLogin.add(Label_Usuario, new org.netbeans.lib.awtextra.AbsoluteConstraints(45, 160, -1, -1));

        CajaTextoUsuario.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        CajaTextoUsuario.setForeground(new java.awt.Color(153, 153, 153));
        CajaTextoUsuario.setText("Ingrese su nombre de usuario");
        CajaTextoUsuario.setBorder(null);
        CajaTextoUsuario.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CajaTextoUsuarioMouseClicked(evt);
            }
        });
        PanelLogin.add(CajaTextoUsuario, new org.netbeans.lib.awtextra.AbsoluteConstraints(45, 190, 400, 30));

        separador_Usuario.setBackground(new java.awt.Color(145, 179, 59));
        separador_Usuario.setForeground(new java.awt.Color(145, 179, 59));
        PanelLogin.add(separador_Usuario, new org.netbeans.lib.awtextra.AbsoluteConstraints(45, 220, 400, 10));

        Label_contraseña.setFont(new java.awt.Font("Arial Black", 0, 12)); // NOI18N
        Label_contraseña.setText("CONTRASEÑA");
        PanelLogin.add(Label_contraseña, new org.netbeans.lib.awtextra.AbsoluteConstraints(45, 260, -1, -1));

        CajaTextoContraseña.setForeground(new java.awt.Color(153, 153, 153));
        CajaTextoContraseña.setText("**********");
        CajaTextoContraseña.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        CajaTextoContraseña.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CajaTextoContraseñaMouseClicked(evt);
            }
        });
        PanelLogin.add(CajaTextoContraseña, new org.netbeans.lib.awtextra.AbsoluteConstraints(45, 290, 400, 30));

        separador_Contrasena.setBackground(new java.awt.Color(145, 179, 59));
        separador_Contrasena.setForeground(new java.awt.Color(145, 179, 59));
        PanelLogin.add(separador_Contrasena, new org.netbeans.lib.awtextra.AbsoluteConstraints(45, 320, 400, 10));

        panel_Ingresar.setBackground(new java.awt.Color(145, 179, 59));

        Label_Ingresar.setFont(new java.awt.Font("Arial Black", 0, 14)); // NOI18N
        Label_Ingresar.setForeground(new java.awt.Color(255, 255, 255));
        Label_Ingresar.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        Label_Ingresar.setText("INGRESAR");
        Label_Ingresar.setAlignmentX(0.5F);
        Label_Ingresar.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        Label_Ingresar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                Label_IngresarMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                Label_IngresarMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                Label_IngresarMouseExited(evt);
            }
        });

        javax.swing.GroupLayout panel_IngresarLayout = new javax.swing.GroupLayout(panel_Ingresar);
        panel_Ingresar.setLayout(panel_IngresarLayout);
        panel_IngresarLayout.setHorizontalGroup(
            panel_IngresarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_IngresarLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(Label_Ingresar, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        panel_IngresarLayout.setVerticalGroup(
            panel_IngresarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_IngresarLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(Label_Ingresar, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        PanelLogin.add(panel_Ingresar, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 370, 130, 50));

        panel_Error_Ingreso.setBackground(new java.awt.Color(221, 221, 221));
        panel_Error_Ingreso.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        label_Error_Ingreso.setBackground(new java.awt.Color(255, 255, 255));
        label_Error_Ingreso.setForeground(new java.awt.Color(221, 221, 221));
        label_Error_Ingreso.setText("usuario o contraseña incorrecto.");
        panel_Error_Ingreso.add(label_Error_Ingreso, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 0, 260, 40));

        PanelLogin.add(panel_Error_Ingreso, new org.netbeans.lib.awtextra.AbsoluteConstraints(45, 110, 400, 40));

        panel_Barra_Superior.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseDragged(java.awt.event.MouseEvent evt) {
                panel_Barra_SuperiorMouseDragged(evt);
            }
        });
        panel_Barra_Superior.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                panel_Barra_SuperiorMousePressed(evt);
            }
        });
        panel_Barra_Superior.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        label_Cerrar_Ventana.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N
        label_Cerrar_Ventana.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        label_Cerrar_Ventana.setText("X");
        label_Cerrar_Ventana.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                label_Cerrar_VentanaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                label_Cerrar_VentanaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                label_Cerrar_VentanaMouseExited(evt);
            }
        });

        javax.swing.GroupLayout panel_Cerrar_VentanaLayout = new javax.swing.GroupLayout(panel_Cerrar_Ventana);
        panel_Cerrar_Ventana.setLayout(panel_Cerrar_VentanaLayout);
        panel_Cerrar_VentanaLayout.setHorizontalGroup(
            panel_Cerrar_VentanaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(label_Cerrar_Ventana, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE)
        );
        panel_Cerrar_VentanaLayout.setVerticalGroup(
            panel_Cerrar_VentanaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(label_Cerrar_Ventana, javax.swing.GroupLayout.DEFAULT_SIZE, 30, Short.MAX_VALUE)
        );

        panel_Barra_Superior.add(panel_Cerrar_Ventana, new org.netbeans.lib.awtextra.AbsoluteConstraints(560, 0, -1, 30));

        PanelLogin.add(panel_Barra_Superior, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 600, 30));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(PanelLogin, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(PanelLogin, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void CajaTextoUsuarioMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CajaTextoUsuarioMouseClicked
        // TODO add your handling code here:
        if(CajaTextoUsuario.getText().equals("Ingrese su nombre de usuario")){
            CajaTextoUsuario.setText("");
            CajaTextoUsuario.setForeground(Color.BLACK);}
        if(String.valueOf(CajaTextoContraseña.getPassword()).isEmpty()){
            CajaTextoContraseña.setText("**********");
            CajaTextoContraseña.setForeground(Color.GRAY);} 
        
    }//GEN-LAST:event_CajaTextoUsuarioMouseClicked

    private void CajaTextoContraseñaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CajaTextoContraseñaMouseClicked
        // TODO add your handling code here:
        if(String.valueOf(CajaTextoContraseña.getPassword()).equals("**********")){
            CajaTextoContraseña.setText("");
            CajaTextoContraseña.setForeground(Color.BLACK);}
        if(CajaTextoUsuario.getText().isEmpty()){           
            CajaTextoUsuario.setText("Ingrese su nombre de usuario");
            CajaTextoUsuario.setForeground(Color.GRAY);}
        
    }//GEN-LAST:event_CajaTextoContraseñaMouseClicked

    private void PanelLoginMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_PanelLoginMouseClicked
        // TODO add your handling code here:
        reiniciar_Cuadros_Login();

    }//GEN-LAST:event_PanelLoginMouseClicked

    private void Label_IngresarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_Label_IngresarMouseClicked
        // TODO add your handling code here:
        usuarioLogin = CajaTextoUsuario.getText();
        contraseñaLogin = String.valueOf(CajaTextoContraseña.getPassword());
        
        ConexionSQL.conexion("Academico",usuarioLogin , contraseñaLogin);
        if(ConexionSQL.confirmacion == true){
            Login.abrir_PantallaPrincipal();
        }else{
            System.out.println("valemonda");
        }

    }//GEN-LAST:event_Label_IngresarMouseClicked

    private void panel_Barra_SuperiorMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_panel_Barra_SuperiorMousePressed
        // TODO add your handling code here:
        xMouse = evt.getX();
        yMouse = evt.getY();
    }//GEN-LAST:event_panel_Barra_SuperiorMousePressed

    private void panel_Barra_SuperiorMouseDragged(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_panel_Barra_SuperiorMouseDragged
        // TODO add your handling code here:
        int x = evt.getXOnScreen();
        int y = evt.getYOnScreen();
        this.setLocation(x - xMouse, y - yMouse);
    }//GEN-LAST:event_panel_Barra_SuperiorMouseDragged

    private void label_Cerrar_VentanaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_label_Cerrar_VentanaMouseEntered
        // TODO add your handling code here:
        panel_Cerrar_Ventana.setBackground(Color.red);
        label_Cerrar_Ventana.setForeground(Color.white);
        
    }//GEN-LAST:event_label_Cerrar_VentanaMouseEntered

    private void label_Cerrar_VentanaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_label_Cerrar_VentanaMouseExited
        // TODO add your handling code here:
        panel_Cerrar_Ventana.setBackground(new Color(242,242,242));
        label_Cerrar_Ventana.setForeground(Color.black);
    }//GEN-LAST:event_label_Cerrar_VentanaMouseExited

    private void label_Cerrar_VentanaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_label_Cerrar_VentanaMouseClicked
        // TODO add your handling code here:
        System.exit(0);
    }//GEN-LAST:event_label_Cerrar_VentanaMouseClicked

    private void Label_IngresarMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_Label_IngresarMouseEntered
        // TODO add your handling code here:
        panel_Ingresar.setBackground(new Color(175,199,107));
    }//GEN-LAST:event_Label_IngresarMouseEntered

    private void Label_IngresarMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_Label_IngresarMouseExited
        // TODO add your handling code here:
        panel_Ingresar.setBackground(new Color(145,179,59));
    }//GEN-LAST:event_Label_IngresarMouseExited


    public static void reiniciar_Cuadros_Login(){
        
        if(String.valueOf(CajaTextoContraseña.getPassword()).isEmpty()){
            CajaTextoContraseña.setText("**********");
            CajaTextoContraseña.setForeground(Color.GRAY);}
        if(CajaTextoUsuario.getText().isEmpty()){
            CajaTextoUsuario.setText("Ingrese su nombre de usuario");
            CajaTextoUsuario.setForeground(Color.GRAY);}
        
    }
    
    public static void error_Ingreso(){      
        separador_Usuario.setBackground(Color.red);
        separador_Contrasena.setBackground(Color.red);
        separador_Usuario.setForeground(Color.red);
        separador_Contrasena.setForeground(Color.red);
        
        panel_Error_Ingreso.setBackground(new Color(235,204,204));
        label_Error_Ingreso.setForeground(new Color(239,65,36));
        label_Error_Ingreso.setBackground(new Color(239,65,36));
    }
    
    public static void abrir_PantallaPrincipal(){
        PantallaPrincipal pantalla = new PantallaPrincipal();
        
        pantalla.Label_Usuario.setText(usuarioLogin);
        pantalla.setVisible(true);

    }
    
    public static void ejecutar_Login(){
        
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Login().setVisible(true);
            }
        }
        );
    }
    
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Login().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private static javax.swing.JPasswordField CajaTextoContraseña;
    private static javax.swing.JTextField CajaTextoUsuario;
    private static javax.swing.JLabel Label_Ingresar;
    private javax.swing.JLabel Label_IniciarSesion;
    private javax.swing.JLabel Label_Usuario;
    private javax.swing.JLabel Label_contraseña;
    private javax.swing.JPanel PanelLogin;
    private javax.swing.JLabel label_Cerrar_Ventana;
    private static javax.swing.JLabel label_Error_Ingreso;
    private javax.swing.JPanel panel_Barra_Superior;
    private javax.swing.JPanel panel_Cerrar_Ventana;
    private static javax.swing.JPanel panel_Error_Ingreso;
    private javax.swing.JPanel panel_Ingresar;
    private static javax.swing.JSeparator separador_Contrasena;
    private static javax.swing.JSeparator separador_Usuario;
    // End of variables declaration//GEN-END:variables
}
